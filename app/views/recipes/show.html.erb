<div class="recipe-show">
  <h1><%= @recipe.title %></h1>
  <%= image_tag(@recipe.image, alt: @recipe.title) if @recipe.image.present? %>
  <p><%= @recipe.summary.gsub(/<a\b[^>]*>(.*?)<\/a>/i, '\1').html_safe %></p>

  <h2>Ingredients</h2>
  <ul>
    <% @recipe.ingredients.each do |ingredient| %>
      <li><%= "#{ingredient.amount} #{ingredient.unit} #{ingredient.name}" %></li>
    <% end %>
  </ul>

  <h2>Instructions</h2>
  <p><%= raw @recipe.instructions %></p>
</div>

<%= form_with url: "/dashboard/recipes", method: :post do %>
  <%= hidden_field_tag :title, @recipe.title %>
  <%= hidden_field_tag :recipe_id, @recipe.id %>
  <%= hidden_field_tag :image , @recipe.image %>
  <%= hidden_field_tag :summary, @recipe.summary %>
  <%= hidden_field_tag :instructions, @recipe.instructions %>
  <%= hidden_field_tag :ingredients, @recipe.ingredients.map(&:attributes) %>
  <%= submit_tag "Add Recipe to my dashboard" %>
<% end %>
