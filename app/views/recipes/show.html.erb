<div class="form-padding">
  <div class="text-center">
    <h1><%= @recipe.title %></h1>
    <%= image_tag(@recipe.image, alt: @recipe.title) if @recipe.image.present? %>
  </div>
  <p class="small px-4"><%= @recipe.summary.gsub(/<a\b[^>]*>(.*?)<\/a>/i, '\1').html_safe %></p>

  <div class="border border-dark rounded text-left px-4">
  <h2 class="px-1">Ingredients</h2>
    <div class="ingredient-box text-left">
        <% @recipe.ingredients.each do |ingredient| %>
          <p class="small text-left"><%= "#{ingredient.amount} #{ingredient.unit} #{ingredient.name}" %></p>
        <% end %>
    </div>
  </div>

  <h2 class="px-4">Instructions</h2>
  <p class="small px-4"><%= raw @recipe.instructions %></p>
</div>

<%= form_with url: "/dashboard/recipes", method: :post do %>
  <%= hidden_field_tag :title, @recipe.title %>
  <%= hidden_field_tag :recipe_id, @recipe.id %>
  <%= hidden_field_tag :image, @recipe.image %>
  <%= hidden_field_tag :summary, @recipe.summary %>
  <%= hidden_field_tag :instructions, @recipe.instructions %>
  <%= hidden_field_tag :ingredients, @recipe.ingredients.map(&:attributes) %>
  <%= submit_tag "Add Recipe to my dashboard" %>
<% end %>
